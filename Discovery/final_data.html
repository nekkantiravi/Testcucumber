<html>

    <head>
        <title>Keyword Result Report</title>
        
    </head>

    <body>
         <h1>Keyword Result Report</h1>

        <table width="100%" border="1">
			<script type="text/javascript" src="data.json"></script>
			<script type="text/javascript" src="javascrip.js"></script>
            <script language="javascript" type="text/javascript">
                <!--

                function readTextFile(file, callback) {
    			    var rawFile = new XMLHttpRequest();
    			    rawFile.overrideMimeType("application/json");
    			    rawFile.open("GET", file, true);
    			    rawFile.onreadystatechange = function() {
    			        if (rawFile.readyState === 4 && rawFile.status == "200") {
    			            callback(rawFile.responseText);
    			        }
    			    }
    			    rawFile.send(null);
    			}
                
               readTextFile("data.json", function(text){
                var data = JSON.parse(text);
                var mydata = data.data;
                var mydata = JSON.parse(mydata);
                var facets = ["KeywordType","Name","Facet","Item"];

                function tableCreate(){
                    var body = document.body,
                    tbl  = document.createElement('table');
                    tbl.style.width  = '100px';
                    tbl.style.border = '1px solid black';
                    var tr = tbl.insertRow();

                    for(var fac=0; fac<facets.length; fac++){
                        var td = tr.insertCell();
                        td.appendChild(document.createTextNode(facets[fac]));
                        tbl.style.width  = '500px';
                        td.style.border = '1px solid black';
                    }

                    for(var i = 0; i<mydata.length; i++){
                        var keywordType = Object.keys(mydata[i]);
                        var tr = tbl.insertRow();
                        var td = tr.insertCell();
                        td.appendChild(document.createTextNode(keywordType));
                        td.style.border = '1px solid black';
                        var td = tr.insertCell();
                        td.appendChild(document.createTextNode(mydata[i][keywordType].name));
                        td.style.border = '1px solid black';
                        var td = tr.insertCell();
                        td.appendChild(document.createTextNode(mydata[i][keywordType].facet));
                        td.style.border = '1px solid black';
                        var td = tr.insertCell();
                        td.appendChild(document.createTextNode(mydata[i][keywordType].items));
                        td.style.border = '1px solid black';

                    }
                    body.appendChild(tbl);
                }
                tableCreate();

                });


                 //-->
            </script>
        </table>
    </body>

</html>